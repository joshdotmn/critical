<!DOCTYPE html>
<html>
<head>
  <title>RubyCritic Reports</title>
  <style>
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      max-width: 800px; 
      margin: 50px auto; 
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 { 
      color: #333;
      margin-top: 0;
    }
    ul { 
      list-style: none; 
      padding: 0; 
    }
    li { 
      margin: 12px 0;
      padding: 12px;
      background: #f9f9f9;
      border-radius: 4px;
      border-left: 3px solid #0066cc;
    }
    a { 
      color: #0066cc; 
      text-decoration: none; 
      font-size: 18px;
      font-weight: 500;
    }
    a:hover { 
      text-decoration: underline; 
    }
    .branch-type {
      font-size: 14px;
      color: #666;
      margin-left: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîç RubyCritic Reports</h1>
    <ul id="branches"></ul>
  </div>
  <script>
    fetch('branches.json')
      .then(r => r.json())
      .catch(() => [])
      .then(branches => {
        const list = document.getElementById('branches');
        if (branches.length === 0) {
          list.innerHTML = '<li>No reports available yet.</li>';
        } else {
          branches.sort((a, b) => {
            if (a === 'main') return -1;
            if (b === 'main') return 1;
            return a.localeCompare(b);
          });

          branches.forEach(b => {
            const li = document.createElement('li');
            const type = b === 'main' ? 'üåø Main Branch' : 'üîÄ Pull Request';
            li.innerHTML = `<a href="${b}/overview.html">${b}</a><span class="branch-type">${type}</span>`;
            list.appendChild(li);
          });
        }
      });
  </script>
</body>
</html>
